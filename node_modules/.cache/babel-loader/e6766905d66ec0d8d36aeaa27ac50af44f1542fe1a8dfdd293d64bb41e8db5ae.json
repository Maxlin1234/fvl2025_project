{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.build = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nconst path_1 = require(\"path\");\nconst resolveSymlinksAsync = function (path, state, callback) {\n  const {\n    queue,\n    options: {\n      suppressErrors\n    }\n  } = state;\n  queue.enqueue();\n  fs_1.default.realpath(path, (error, resolvedPath) => {\n    if (error) return queue.dequeue(suppressErrors ? null : error, state);\n    fs_1.default.stat(resolvedPath, (error, stat) => {\n      if (error) return queue.dequeue(suppressErrors ? null : error, state);\n      if (stat.isDirectory() && isRecursive(path, resolvedPath, state)) return queue.dequeue(null, state);\n      callback(stat, resolvedPath);\n      queue.dequeue(null, state);\n    });\n  });\n};\nconst resolveSymlinks = function (path, state, callback) {\n  const {\n    queue,\n    options: {\n      suppressErrors\n    }\n  } = state;\n  queue.enqueue();\n  try {\n    const resolvedPath = fs_1.default.realpathSync(path);\n    const stat = fs_1.default.statSync(resolvedPath);\n    if (stat.isDirectory() && isRecursive(path, resolvedPath, state)) return;\n    callback(stat, resolvedPath);\n  } catch (e) {\n    if (!suppressErrors) throw e;\n  }\n};\nfunction build(options, isSynchronous) {\n  if (!options.resolveSymlinks || options.excludeSymlinks) return null;\n  return isSynchronous ? resolveSymlinks : resolveSymlinksAsync;\n}\nexports.build = build;\nfunction isRecursive(path, resolved, state) {\n  if (state.options.useRealPaths) return isRecursiveUsingRealPaths(resolved, state);\n  let parent = (0, path_1.dirname)(path);\n  let depth = 1;\n  while (parent !== state.root && depth < 2) {\n    const resolvedPath = state.symlinks.get(parent);\n    const isSameRoot = !!resolvedPath && (resolvedPath === resolved || resolvedPath.startsWith(resolved) || resolved.startsWith(resolvedPath));\n    if (isSameRoot) depth++;else parent = (0, path_1.dirname)(parent);\n  }\n  state.symlinks.set(path, resolved);\n  return depth > 1;\n}\nfunction isRecursiveUsingRealPaths(resolved, state) {\n  return state.visited.includes(resolved + state.options.pathSeparator);\n}","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","build","fs_1","require","path_1","resolveSymlinksAsync","path","state","callback","queue","options","suppressErrors","enqueue","default","realpath","error","resolvedPath","dequeue","stat","isDirectory","isRecursive","resolveSymlinks","realpathSync","statSync","e","isSynchronous","excludeSymlinks","resolved","useRealPaths","isRecursiveUsingRealPaths","parent","dirname","depth","root","symlinks","get","isSameRoot","startsWith","set","visited","includes","pathSeparator"],"sources":["/Users/linhankuan/fvl2025/node_modules/vite/node_modules/fdir/dist/api/functions/resolve-symlink.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.build = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nconst path_1 = require(\"path\");\nconst resolveSymlinksAsync = function (path, state, callback) {\n    const { queue, options: { suppressErrors }, } = state;\n    queue.enqueue();\n    fs_1.default.realpath(path, (error, resolvedPath) => {\n        if (error)\n            return queue.dequeue(suppressErrors ? null : error, state);\n        fs_1.default.stat(resolvedPath, (error, stat) => {\n            if (error)\n                return queue.dequeue(suppressErrors ? null : error, state);\n            if (stat.isDirectory() && isRecursive(path, resolvedPath, state))\n                return queue.dequeue(null, state);\n            callback(stat, resolvedPath);\n            queue.dequeue(null, state);\n        });\n    });\n};\nconst resolveSymlinks = function (path, state, callback) {\n    const { queue, options: { suppressErrors }, } = state;\n    queue.enqueue();\n    try {\n        const resolvedPath = fs_1.default.realpathSync(path);\n        const stat = fs_1.default.statSync(resolvedPath);\n        if (stat.isDirectory() && isRecursive(path, resolvedPath, state))\n            return;\n        callback(stat, resolvedPath);\n    }\n    catch (e) {\n        if (!suppressErrors)\n            throw e;\n    }\n};\nfunction build(options, isSynchronous) {\n    if (!options.resolveSymlinks || options.excludeSymlinks)\n        return null;\n    return isSynchronous ? resolveSymlinks : resolveSymlinksAsync;\n}\nexports.build = build;\nfunction isRecursive(path, resolved, state) {\n    if (state.options.useRealPaths)\n        return isRecursiveUsingRealPaths(resolved, state);\n    let parent = (0, path_1.dirname)(path);\n    let depth = 1;\n    while (parent !== state.root && depth < 2) {\n        const resolvedPath = state.symlinks.get(parent);\n        const isSameRoot = !!resolvedPath &&\n            (resolvedPath === resolved ||\n                resolvedPath.startsWith(resolved) ||\n                resolved.startsWith(resolvedPath));\n        if (isSameRoot)\n            depth++;\n        else\n            parent = (0, path_1.dirname)(parent);\n    }\n    state.symlinks.set(path, resolved);\n    return depth > 1;\n}\nfunction isRecursiveUsingRealPaths(resolved, state) {\n    return state.visited.includes(resolved + state.options.pathSeparator);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}