{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { useRoute } from 'vue-router';\nimport { ref, onMounted, onBeforeUnmount, computed } from 'vue';\nimport axios from 'axios';\nexport default {\n  name: 'PortfolioDetil',\n  setup() {\n    const route = useRoute();\n    const id = String(route.params.id || '');\n    const isEnglish = ref(false);\n    const work = ref(null);\n    const artist = ref(null); // ‚úÖ Êñ∞Â¢ûÔºöÂÑ≤Â≠òÂ∞çÊáâËóùË°ìÂÆ∂\n    const coverUrl = ref('');\n    const imageUrls = ref([]);\n    const descriptionText = ref('');\n    const errorText = ref('');\n\n    // -------------------\n    // üà∂ Ë™ûË®ÄË®≠ÂÆö\n    // -------------------\n    const resolveInitialLang = () => {\n      const q = route.query.lang;\n      if (q === 'en') return true;\n      if (q === 'zh') return false;\n      try {\n        return localStorage.getItem('lang') === 'en';\n      } catch {\n        return false;\n      }\n    };\n\n    // -------------------\n    // üß© Â∑•ÂÖ∑ÊñπÊ≥ï\n    // -------------------\n    const pickFirstNonEmpty = (obj, keys) => {\n      for (const key of keys) {\n        const val = obj && typeof obj[key] === 'string' ? obj[key] : '';\n        if (val && val.trim().length > 0) return val;\n      }\n      return '';\n    };\n    const stripHtml = html => {\n      if (!html || typeof html !== 'string') return '';\n      const withNewlines = html.replace(/<br\\s*\\/?>(\\r\\n)?/gi, '\\n');\n      const temp = document.createElement('div');\n      temp.innerHTML = withNewlines;\n      return temp.textContent || temp.innerText || '';\n    };\n\n    // -------------------\n    // üì∑ ÈáçË®à‰ΩúÂìÅÂÖßÂÆπ\n    // -------------------\n    const recalcDerived = () => {\n      const makeUrl = p => p ? `https://unzip-clab-api.clab.org.tw/${p}` : '';\n      const p1 = work.value?.photo_1 || '';\n      const p2 = work.value?.photo_2 || '';\n      const p3 = work.value?.photo_3 || '';\n      imageUrls.value = [p1, p2, p3].filter(Boolean).slice(0, 3).map(makeUrl);\n      coverUrl.value = imageUrls.value[0] || '';\n      const langBlock = isEnglish.value ? work.value?.work_en : work.value?.work_zh;\n      const raw = pickFirstNonEmpty(langBlock || {}, ['description', 'proposal', 'note', 'summary', 'content', 'text']);\n      descriptionText.value = stripHtml(raw);\n    };\n\n    // -------------------\n    // üßë‚Äçüé® ËóùË°ìÂÆ∂Ë™™Êòé (Ëàä)\n    // -------------------\n    const artistNoteText = computed(() => {\n      const langBlock = isEnglish.value ? work.value?.work_en : work.value?.work_zh;\n      const source = pickFirstNonEmpty(langBlock || {}, ['note', 'artist']);\n      return stripHtml(source);\n    });\n\n    // -------------------\n    // üíæ Âæû localStorage ËºâÂÖ•\n    // -------------------\n    const loadFromLocal = () => {\n      try {\n        const key = `work_${id}`;\n        const raw = localStorage.getItem(key);\n        if (!raw) return false;\n        const parsed = JSON.parse(raw);\n        work.value = parsed;\n        recalcDerived();\n        return true;\n      } catch (e) {\n        console.error('Failed to parse work data from localStorage:', e);\n        return false;\n      }\n    };\n\n    // -------------------\n    // üåê Êäì‰ΩúÂìÅË≥áÊñô\n    // -------------------\n    const fetchFromApi = async () => {\n      try {\n        const {\n          data\n        } = await axios.get(`https://unzip-clab-api.clab.org.tw/api/v1/works/${id}`);\n        const entity = data?.data || data?.results?.[0] || data;\n        if (entity) {\n          work.value = entity;\n          recalcDerived();\n          await fetchArtistData(); // ‚úÖ ‰ΩúÂìÅÊäìÂÆåÂÜçÊäìËóùË°ìÂÆ∂\n        } else {\n          errorText.value = 'No data for this work.';\n        }\n      } catch (e) {\n        console.error('Failed to fetch work by id:', e);\n        errorText.value = 'Failed to load work. Please try again later.';\n      }\n    };\n\n    // -------------------\n    // üßë‚Äçüé® ÊäìËóùË°ìÂÆ∂Ë≥áÊñô\n    // -------------------\n    const fetchArtistData = async () => {\n      try {\n        const res = await axios.get('https://unzip-clab-api.clab.org.tw/api/v1/schedules/10/artists?page=0&limit=25');\n        const artists = res.data?.results || [];\n        // ÂÅáË®≠‰ΩúÂìÅË≥áÊñôÂÖßÊúâ artist_id\n        const artistId = work.value?.artist_id || work.value?.artist?.artist_id;\n        if (!artistId) {\n          console.warn('No artist_id found in work data');\n          return;\n        }\n        const found = artists.find(a => a.artist_id === artistId);\n        if (found) {\n          artist.value = found;\n        } else {\n          console.warn('Artist not found for id:', artistId);\n        }\n      } catch (err) {\n        console.error('Error fetching artists:', err);\n      }\n    };\n\n    // -------------------\n    // üîÑ Ë™ûË®ÄËÆäÊõ¥Áõ£ËÅΩ\n    // -------------------\n    const handleStorage = e => {\n      if (e.key === 'lang') {\n        isEnglish.value = e.newValue === 'en';\n        if (work.value) recalcDerived();\n      }\n    };\n\n    // -------------------\n    // üß† ÂàùÂßãÂåñ\n    // -------------------\n    onMounted(async () => {\n      isEnglish.value = resolveInitialLang();\n      const ok = loadFromLocal();\n      if (!ok) await fetchFromApi();else await fetchArtistData(); // Âç≥‰ΩøÊòØ localStorage ‰πüËºâËóùË°ìÂÆ∂Ë≥áÊñô\n      window.addEventListener('storage', handleStorage);\n    });\n    onBeforeUnmount(() => {\n      window.removeEventListener('storage', handleStorage);\n    });\n    return {\n      work,\n      artist,\n      // ‚úÖ Êñ∞Â¢û\n      coverUrl,\n      imageUrls,\n      isEnglish,\n      descriptionText,\n      errorText,\n      artistNoteText\n    };\n  }\n};","map":{"version":3,"names":["useRoute","ref","onMounted","onBeforeUnmount","computed","axios","name","setup","route","id","String","params","isEnglish","work","artist","coverUrl","imageUrls","descriptionText","errorText","resolveInitialLang","q","query","lang","localStorage","getItem","pickFirstNonEmpty","obj","keys","key","val","trim","length","stripHtml","html","withNewlines","replace","temp","document","createElement","innerHTML","textContent","innerText","recalcDerived","makeUrl","p","p1","value","photo_1","p2","photo_2","p3","photo_3","filter","Boolean","slice","map","langBlock","work_en","work_zh","raw","artistNoteText","source","loadFromLocal","parsed","JSON","parse","e","console","error","fetchFromApi","data","get","entity","results","fetchArtistData","res","artists","artistId","artist_id","warn","found","find","a","err","handleStorage","newValue","ok","window","addEventListener","removeEventListener"],"sources":["/Users/linhankuan/fvl2025/src/views/PortfolioDetil.vue"],"sourcesContent":["<!-- src/views/PortfolioDetil.vue -->\n<template>\n<div class=\"artist-section\">\n  <h2 class=\"section-heading\">{{ isEnglish ? 'About Artist' : 'ËóùË°ìÂÆ∂' }}</h2>\n\n  <div v-if=\"artist\" class=\"artist-content\">\n    <div class=\"artist-photo\">\n      <img\n        :src=\"`https://unzip-clab-api.clab.org.tw/${artist.avatar}`\"\n        :alt=\"artist.artist_en?.name || artist.artist_zh?.name\"\n      />\n    </div>\n\n    <div class=\"artist-info\">\n      <p class=\"artist-name\">\n        {{ isEnglish ? artist.artist_en?.name : artist.artist_zh?.name }}\n      </p>\n      <p class=\"artist-country\">\n        {{ isEnglish ? artist.artist_en?.country : artist.artist_zh?.country }}\n      </p>\n      <p class=\"artist-bio\">\n        {{ isEnglish ? artist.artist_en?.introduction : artist.artist_zh?.introduction }}\n      </p>\n    </div>\n  </div>\n\n  <div v-else>\n    <p>{{ isEnglish ? 'Artist information not available.' : 'Êö´ÁÑ°ËóùË°ìÂÆ∂Ë≥áÊñô„ÄÇ' }}</p>\n  </div>\n</div>\n\n</template>\n\n<script>\nimport { useRoute } from 'vue-router';\nimport { ref, onMounted, onBeforeUnmount, computed } from 'vue';\nimport axios from 'axios';\n\nexport default {\n  name: 'PortfolioDetil',\n  setup() {\n    const route = useRoute();\n    const id = String(route.params.id || '');\n\n    const isEnglish = ref(false);\n    const work = ref(null);\n    const artist = ref(null); // ‚úÖ Êñ∞Â¢ûÔºöÂÑ≤Â≠òÂ∞çÊáâËóùË°ìÂÆ∂\n    const coverUrl = ref('');\n    const imageUrls = ref([]);\n    const descriptionText = ref('');\n    const errorText = ref('');\n\n    // -------------------\n    // üà∂ Ë™ûË®ÄË®≠ÂÆö\n    // -------------------\n    const resolveInitialLang = () => {\n      const q = route.query.lang;\n      if (q === 'en') return true;\n      if (q === 'zh') return false;\n      try {\n        return localStorage.getItem('lang') === 'en';\n      } catch {\n        return false;\n      }\n    };\n\n    // -------------------\n    // üß© Â∑•ÂÖ∑ÊñπÊ≥ï\n    // -------------------\n    const pickFirstNonEmpty = (obj, keys) => {\n      for (const key of keys) {\n        const val = obj && typeof obj[key] === 'string' ? obj[key] : '';\n        if (val && val.trim().length > 0) return val;\n      }\n      return '';\n    };\n\n    const stripHtml = (html) => {\n      if (!html || typeof html !== 'string') return '';\n      const withNewlines = html.replace(/<br\\s*\\/?>(\\r\\n)?/gi, '\\n');\n      const temp = document.createElement('div');\n      temp.innerHTML = withNewlines;\n      return temp.textContent || temp.innerText || '';\n    };\n\n    // -------------------\n    // üì∑ ÈáçË®à‰ΩúÂìÅÂÖßÂÆπ\n    // -------------------\n    const recalcDerived = () => {\n      const makeUrl = (p) => (p ? `https://unzip-clab-api.clab.org.tw/${p}` : '');\n      const p1 = work.value?.photo_1 || '';\n      const p2 = work.value?.photo_2 || '';\n      const p3 = work.value?.photo_3 || '';\n      imageUrls.value = [p1, p2, p3].filter(Boolean).slice(0, 3).map(makeUrl);\n\n      coverUrl.value = imageUrls.value[0] || '';\n\n      const langBlock = isEnglish.value ? work.value?.work_en : work.value?.work_zh;\n      const raw = pickFirstNonEmpty(langBlock || {}, [\n        'description',\n        'proposal',\n        'note',\n        'summary',\n        'content',\n        'text',\n      ]);\n      descriptionText.value = stripHtml(raw);\n    };\n\n    // -------------------\n    // üßë‚Äçüé® ËóùË°ìÂÆ∂Ë™™Êòé (Ëàä)\n    // -------------------\n    const artistNoteText = computed(() => {\n      const langBlock = isEnglish.value ? work.value?.work_en : work.value?.work_zh;\n      const source = pickFirstNonEmpty(langBlock || {}, ['note', 'artist']);\n      return stripHtml(source);\n    });\n\n    // -------------------\n    // üíæ Âæû localStorage ËºâÂÖ•\n    // -------------------\n    const loadFromLocal = () => {\n      try {\n        const key = `work_${id}`;\n        const raw = localStorage.getItem(key);\n        if (!raw) return false;\n        const parsed = JSON.parse(raw);\n        work.value = parsed;\n        recalcDerived();\n        return true;\n      } catch (e) {\n        console.error('Failed to parse work data from localStorage:', e);\n        return false;\n      }\n    };\n\n    // -------------------\n    // üåê Êäì‰ΩúÂìÅË≥áÊñô\n    // -------------------\n    const fetchFromApi = async () => {\n      try {\n        const { data } = await axios.get(`https://unzip-clab-api.clab.org.tw/api/v1/works/${id}`);\n        const entity = data?.data || data?.results?.[0] || data;\n        if (entity) {\n          work.value = entity;\n          recalcDerived();\n          await fetchArtistData(); // ‚úÖ ‰ΩúÂìÅÊäìÂÆåÂÜçÊäìËóùË°ìÂÆ∂\n        } else {\n          errorText.value = 'No data for this work.';\n        }\n      } catch (e) {\n        console.error('Failed to fetch work by id:', e);\n        errorText.value = 'Failed to load work. Please try again later.';\n      }\n    };\n\n    // -------------------\n    // üßë‚Äçüé® ÊäìËóùË°ìÂÆ∂Ë≥áÊñô\n    // -------------------\n    const fetchArtistData = async () => {\n      try {\n        const res = await axios.get(\n          'https://unzip-clab-api.clab.org.tw/api/v1/schedules/10/artists?page=0&limit=25'\n        );\n        const artists = res.data?.results || [];\n        // ÂÅáË®≠‰ΩúÂìÅË≥áÊñôÂÖßÊúâ artist_id\n        const artistId = work.value?.artist_id || work.value?.artist?.artist_id;\n        if (!artistId) {\n          console.warn('No artist_id found in work data');\n          return;\n        }\n\n        const found = artists.find((a) => a.artist_id === artistId);\n        if (found) {\n          artist.value = found;\n        } else {\n          console.warn('Artist not found for id:', artistId);\n        }\n      } catch (err) {\n        console.error('Error fetching artists:', err);\n      }\n    };\n\n    // -------------------\n    // üîÑ Ë™ûË®ÄËÆäÊõ¥Áõ£ËÅΩ\n    // -------------------\n    const handleStorage = (e) => {\n      if (e.key === 'lang') {\n        isEnglish.value = e.newValue === 'en';\n        if (work.value) recalcDerived();\n      }\n    };\n\n    // -------------------\n    // üß† ÂàùÂßãÂåñ\n    // -------------------\n    onMounted(async () => {\n      isEnglish.value = resolveInitialLang();\n      const ok = loadFromLocal();\n      if (!ok) await fetchFromApi();\n      else await fetchArtistData(); // Âç≥‰ΩøÊòØ localStorage ‰πüËºâËóùË°ìÂÆ∂Ë≥áÊñô\n      window.addEventListener('storage', handleStorage);\n    });\n\n    onBeforeUnmount(() => {\n      window.removeEventListener('storage', handleStorage);\n    });\n\n    return {\n      work,\n      artist, // ‚úÖ Êñ∞Â¢û\n      coverUrl,\n      imageUrls,\n      isEnglish,\n      descriptionText,\n      errorText,\n      artistNoteText,\n    };\n  },\n};\n\n</script>\n\n<style lang=\"scss\" scoped>\n.work-detail {\n  background: #0e0e0e;\n  color: #f2f2f2;\n  min-height: 100vh;\n}\n\n.work-detail.loading {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* ‰ΩúÂìÅÂúñÁâáÂçÄÂ°ä - ‰∏âÂºµÂúñÁâáÁ∂≤Ê†º */\n.work-hero-grid {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 8px;\n  width: 100%;\n  height: 50vh;\n  overflow: hidden;\n}\n\n.work-hero {\n  width: 100%;\n  height: 50vh;\n  background: #000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n}\n\n.work-hero img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n}\n\n.work-hero:hover img {\n  transform: scale(1.05);\n}\n\n/* ‰∏ªË¶ÅÂÖßÂÆπÂçÄÂ°ä */\n.work-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 60px 20px 80px;\n}\n\n.work-header {\n  text-align: center;\n  margin-bottom: 60px;\n}\n\n.work-title {\n  font-size: 2.5rem;\n  font-weight: 700;\n  margin: 0;\n  color: #ffffff;\n  line-height: 1.2;\n  letter-spacing: 1px;\n}\n\n/* ÂÖ©Ê¨Ñ‰ΩàÂ±Ä */\n.work-main-layout {\n  background-color: white;\n  // border-radius: 25px;\n  padding: 25px;\n  display: grid;\n  grid-template-columns: 1.5fr 1fr;\n  gap: 80px;\n  align-items: start;\n}\n\n/* ‰ΩúÂìÅ‰ªãÁ¥πÂçÄÂ°ä */\n.work-description-section {\n  .section-heading {\n    font-size: 1.8rem;\n    font-weight: 600;\n    margin: 0 0 30px 0;\n    color: #000000;\n    border-bottom: 3px solid #333;\n    padding-bottom: 15px;\n    letter-spacing: 0.5px;\n  }\n\n  .work-description {\n    font-size: 1.1rem;\n    line-height: 1.9;\n    color: #000000;\n    white-space: pre-wrap;\n    text-align: justify;\n  }\n}\n\n/* ËóùË°ìÂÆ∂Ë≥áË®äÂçÄÂ°ä */\n.artist-section {\n  .section-heading {\n    font-size: 1.8rem;\n    font-weight: 600;\n    margin: 0 0 30px 0;\n    color: #000000;\n    border-bottom: 3px solid #333;\n    padding-bottom: 15px;\n    letter-spacing: 0.5px;\n  }\n\n  .artist-content {\n    display: flex;\n    flex-direction: column;\n    gap: 30px;\n  }\n\n  .artist-photo {\n    width: 100%;\n    max-width: 220px;\n    margin: 0 auto;\n    \n    img {\n      width: 100%;\n      height: 220px;\n      object-fit: cover;\n      border-radius: 50%;\n      border: 4px solid #ffffff;\n      box-shadow: 0 8px 30px rgba(255, 255, 255, 0.15);\n      transition: transform 0.3s ease;\n    }\n  }\n\n  .artist-photo:hover img {\n    transform: scale(1.05);\n  }\n\n  .artist-info {\n    p {\n      font-size: 1rem;\n      line-height: 1.8;\n      color: #000000;\n      margin: 0;\n      white-space: pre-wrap;\n      text-align: justify;\n    }\n  }\n}\n\n/* ÈüøÊáâÂºèË®≠Ë®à */\n@media (max-width: 1024px) {\n  .work-main-layout {\n    gap: 60px;\n  }\n  \n  .work-hero-grid {\n    grid-template-columns: repeat(2, 1fr);\n    height: 40vh;\n  }\n  \n  .work-hero {\n    height: 40vh;\n  }\n}\n\n@media (max-width: 768px) {\n  .work-content {\n    padding: 40px 16px 60px;\n  }\n\n  .work-title {\n    font-size: 2rem;\n  }\n\n  .work-main-layout {\n    grid-template-columns: 2fr;\n    gap: 50px;\n  }\n\n  .work-hero-grid {\n    grid-template-columns: 1fr;\n    height: auto;\n  }\n\n  .work-hero {\n    height: 35vh;\n  }\n\n  .section-heading {\n    font-size: 1.5rem;\n  }\n\n  .artist-content {\n    flex-direction: row;\n    align-items: flex-start;\n    gap: 25px;\n  }\n\n  .artist-photo {\n    max-width: 150px;\n    flex-shrink: 0;\n    \n    img {\n      height: 150px;\n    }\n  }\n\n  .artist-info {\n    flex: 1;\n  }\n}\n\n@media (max-width: 480px) {\n  .work-content {\n    padding: 30px 12px 50px;\n  }\n\n  .work-title {\n    font-size: 1.8rem;\n  }\n\n  .section-heading {\n    font-size: 1.3rem;\n  }\n\n  .work-description {\n    font-size: 1rem;\n  }\n\n  .artist-content {\n    flex-direction: column;\n    text-align: center;\n    gap: 20px;\n  }\n\n  .artist-photo {\n    max-width: 180px;\n    \n    img {\n      height: 180px;\n    }\n  }\n}\n\n@media (min-width: 2560px) {\n  .work-content {\n    max-width: 1800px;\n    padding: 80px 40px 120px;\n  }\n\n  .work-title {\n    font-size: 3.5rem;\n  }\n\n  .section-heading {\n    font-size: 2.2rem;\n  }\n\n  .work-description {\n    font-size: 1.3rem;\n  }\n\n  .artist-info p {\n    font-size: 1.2rem;\n  }\n\n  .artist-photo img {\n    height: 280px;\n  }\n\n  .work-hero-grid {\n    height: 60vh;\n  }\n\n  .work-hero {\n    height: 60vh;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}