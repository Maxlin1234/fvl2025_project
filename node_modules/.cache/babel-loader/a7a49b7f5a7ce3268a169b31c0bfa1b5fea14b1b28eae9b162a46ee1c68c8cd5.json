{"ast":null,"code":"\"use strict\";\n\nrequire(\"core-js/modules/es.array.push.js\");\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.build = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nconst readdirOpts = {\n  withFileTypes: true\n};\nconst walkAsync = (state, crawlPath, directoryPath, currentDepth, callback) => {\n  state.queue.enqueue();\n  if (currentDepth < 0) return state.queue.dequeue(null, state);\n  state.visited.push(crawlPath);\n  state.counts.directories++;\n  // Perf: Node >= 10 introduced withFileTypes that helps us\n  // skip an extra fs.stat call.\n  fs_1.default.readdir(crawlPath || \".\", readdirOpts, (error, entries = []) => {\n    callback(entries, directoryPath, currentDepth);\n    state.queue.dequeue(state.options.suppressErrors ? null : error, state);\n  });\n};\nconst walkSync = (state, crawlPath, directoryPath, currentDepth, callback) => {\n  if (currentDepth < 0) return;\n  state.visited.push(crawlPath);\n  state.counts.directories++;\n  let entries = [];\n  try {\n    entries = fs_1.default.readdirSync(crawlPath || \".\", readdirOpts);\n  } catch (e) {\n    if (!state.options.suppressErrors) throw e;\n  }\n  callback(entries, directoryPath, currentDepth);\n};\nfunction build(isSynchronous) {\n  return isSynchronous ? walkSync : walkAsync;\n}\nexports.build = build;","map":{"version":3,"names":["require","__importDefault","mod","__esModule","Object","defineProperty","exports","value","build","fs_1","readdirOpts","withFileTypes","walkAsync","state","crawlPath","directoryPath","currentDepth","callback","queue","enqueue","dequeue","visited","push","counts","directories","default","readdir","error","entries","options","suppressErrors","walkSync","readdirSync","e","isSynchronous"],"sources":["/Users/linhankuan/fvl2025/node_modules/tinyglobby/node_modules/fdir/dist/api/functions/walk-directory.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.build = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nconst readdirOpts = { withFileTypes: true };\nconst walkAsync = (state, crawlPath, directoryPath, currentDepth, callback) => {\n    state.queue.enqueue();\n    if (currentDepth < 0)\n        return state.queue.dequeue(null, state);\n    state.visited.push(crawlPath);\n    state.counts.directories++;\n    // Perf: Node >= 10 introduced withFileTypes that helps us\n    // skip an extra fs.stat call.\n    fs_1.default.readdir(crawlPath || \".\", readdirOpts, (error, entries = []) => {\n        callback(entries, directoryPath, currentDepth);\n        state.queue.dequeue(state.options.suppressErrors ? null : error, state);\n    });\n};\nconst walkSync = (state, crawlPath, directoryPath, currentDepth, callback) => {\n    if (currentDepth < 0)\n        return;\n    state.visited.push(crawlPath);\n    state.counts.directories++;\n    let entries = [];\n    try {\n        entries = fs_1.default.readdirSync(crawlPath || \".\", readdirOpts);\n    }\n    catch (e) {\n        if (!state.options.suppressErrors)\n            throw e;\n    }\n    callback(entries, directoryPath, currentDepth);\n};\nfunction build(isSynchronous) {\n    return isSynchronous ? walkSync : walkAsync;\n}\nexports.build = build;\n"],"mappings":"AAAA,YAAY;;AAACA,OAAA;AACb,IAAIC,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUC,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAID,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,KAAK,GAAG,KAAK,CAAC;AACtB,MAAMC,IAAI,GAAGR,eAAe,CAACD,OAAO,CAAC,IAAI,CAAC,CAAC;AAC3C,MAAMU,WAAW,GAAG;EAAEC,aAAa,EAAE;AAAK,CAAC;AAC3C,MAAMC,SAAS,GAAGA,CAACC,KAAK,EAAEC,SAAS,EAAEC,aAAa,EAAEC,YAAY,EAAEC,QAAQ,KAAK;EAC3EJ,KAAK,CAACK,KAAK,CAACC,OAAO,CAAC,CAAC;EACrB,IAAIH,YAAY,GAAG,CAAC,EAChB,OAAOH,KAAK,CAACK,KAAK,CAACE,OAAO,CAAC,IAAI,EAAEP,KAAK,CAAC;EAC3CA,KAAK,CAACQ,OAAO,CAACC,IAAI,CAACR,SAAS,CAAC;EAC7BD,KAAK,CAACU,MAAM,CAACC,WAAW,EAAE;EAC1B;EACA;EACAf,IAAI,CAACgB,OAAO,CAACC,OAAO,CAACZ,SAAS,IAAI,GAAG,EAAEJ,WAAW,EAAE,CAACiB,KAAK,EAAEC,OAAO,GAAG,EAAE,KAAK;IACzEX,QAAQ,CAACW,OAAO,EAAEb,aAAa,EAAEC,YAAY,CAAC;IAC9CH,KAAK,CAACK,KAAK,CAACE,OAAO,CAACP,KAAK,CAACgB,OAAO,CAACC,cAAc,GAAG,IAAI,GAAGH,KAAK,EAAEd,KAAK,CAAC;EAC3E,CAAC,CAAC;AACN,CAAC;AACD,MAAMkB,QAAQ,GAAGA,CAAClB,KAAK,EAAEC,SAAS,EAAEC,aAAa,EAAEC,YAAY,EAAEC,QAAQ,KAAK;EAC1E,IAAID,YAAY,GAAG,CAAC,EAChB;EACJH,KAAK,CAACQ,OAAO,CAACC,IAAI,CAACR,SAAS,CAAC;EAC7BD,KAAK,CAACU,MAAM,CAACC,WAAW,EAAE;EAC1B,IAAII,OAAO,GAAG,EAAE;EAChB,IAAI;IACAA,OAAO,GAAGnB,IAAI,CAACgB,OAAO,CAACO,WAAW,CAAClB,SAAS,IAAI,GAAG,EAAEJ,WAAW,CAAC;EACrE,CAAC,CACD,OAAOuB,CAAC,EAAE;IACN,IAAI,CAACpB,KAAK,CAACgB,OAAO,CAACC,cAAc,EAC7B,MAAMG,CAAC;EACf;EACAhB,QAAQ,CAACW,OAAO,EAAEb,aAAa,EAAEC,YAAY,CAAC;AAClD,CAAC;AACD,SAASR,KAAKA,CAAC0B,aAAa,EAAE;EAC1B,OAAOA,aAAa,GAAGH,QAAQ,GAAGnB,SAAS;AAC/C;AACAN,OAAO,CAACE,KAAK,GAAGA,KAAK","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}